<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ioquake3: SpeexEchoState: Acoustic echo canceller</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ioquake3
   &#160;<span id="projectnumber">SVN</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__SpeexEchoState.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SpeexEchoState: Acoustic echo canceller</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#gaec8c28929384351e741edadd059b6689">SPEEX_ECHO_GET_FRAME_SIZE</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#gaaf00e4a6361aff500e5cb44911b9e47d">SPEEX_ECHO_SET_SAMPLING_RATE</a>&#160;&#160;&#160;24</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#gacc8c165323650efcf0c78a6fdfbce28a">SPEEX_ECHO_GET_SAMPLING_RATE</a>&#160;&#160;&#160;25</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structSpeexEchoState__.html">SpeexEchoState_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#ga6fbfb3d5762ea66783355df611097215">SpeexEchoState</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#gaaee7e1b0ace7c549b130dc10107b7152">speex_echo_state_init</a> (<a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a> frame_size, <a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a> filter_length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#ga9c8f75da769150e4eeb7bcd4410bb666">speex_echo_state_destroy</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#ga38c07eab3e182081c72a4944092e069f">speex_echo_cancellation</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st, const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="echo__diagnostic_8m.html#a7c8cb9c29630901b8b5da4cdd7401d36">rec</a>, const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="echo__diagnostic_8m.html#aec7841687efd9cf97ac07f0c80c48e8e">play</a>, <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="vm__x86__64__assembler_8c.html#a392d7ef877b6258e64850ce3a2647dae">out</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#ga0256b6aa4f8b634ee1890547893aa2b9">speex_echo_cancel</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st, const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="echo__diagnostic_8m.html#a7c8cb9c29630901b8b5da4cdd7401d36">rec</a>, const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="echo__diagnostic_8m.html#aec7841687efd9cf97ac07f0c80c48e8e">play</a>, <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="vm__x86__64__assembler_8c.html#a392d7ef877b6258e64850ce3a2647dae">out</a>, <a class="el" href="speex__config__types_8h.html#ad2c1f7ecbff327ef67ea4b1f67ccaf09">spx_int32_t</a> *Yout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#gafb82082fe4aa650e9bdda3d266995017">speex_echo_capture</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st, const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="echo__diagnostic_8m.html#a7c8cb9c29630901b8b5da4cdd7401d36">rec</a>, <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="vm__x86__64__assembler_8c.html#a392d7ef877b6258e64850ce3a2647dae">out</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#gafb67b27eb0352a062cd368f7225b82c1">speex_echo_playback</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st, const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *<a class="el" href="echo__diagnostic_8m.html#aec7841687efd9cf97ac07f0c80c48e8e">play</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#ga4c9996870300b843b900d73dd84f9b7a">speex_echo_state_reset</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SpeexEchoState.html#ga8d19605763a4d61d95ad949af358e8b1">speex_echo_ctl</a> (<a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *st, <a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a> request, <a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> *<a class="el" href="types_8c.html#a572b0871c6f651687862424f46073518">ptr</a>)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>This is the acoustic echo canceller module. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gaec8c28929384351e741edadd059b6689"></a><!-- doxytag: member="speex_echo.h::SPEEX_ECHO_GET_FRAME_SIZE" ref="gaec8c28929384351e741edadd059b6689" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__SpeexEchoState.html#gaec8c28929384351e741edadd059b6689">SPEEX_ECHO_GET_FRAME_SIZE</a>&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Obtain frame size used by the AEC </p>

<p>Referenced by <a class="el" href="group__SpeexEchoState.html#ga8d19605763a4d61d95ad949af358e8b1">speex_echo_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="gacc8c165323650efcf0c78a6fdfbce28a"></a><!-- doxytag: member="speex_echo.h::SPEEX_ECHO_GET_SAMPLING_RATE" ref="gacc8c165323650efcf0c78a6fdfbce28a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__SpeexEchoState.html#gacc8c165323650efcf0c78a6fdfbce28a">SPEEX_ECHO_GET_SAMPLING_RATE</a>&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get sampling rate </p>

<p>Referenced by <a class="el" href="group__SpeexEchoState.html#ga8d19605763a4d61d95ad949af358e8b1">speex_echo_ctl()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf00e4a6361aff500e5cb44911b9e47d"></a><!-- doxytag: member="speex_echo.h::SPEEX_ECHO_SET_SAMPLING_RATE" ref="gaaf00e4a6361aff500e5cb44911b9e47d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__SpeexEchoState.html#gaaf00e4a6361aff500e5cb44911b9e47d">SPEEX_ECHO_SET_SAMPLING_RATE</a>&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set sampling rate </p>

<p>Referenced by <a class="el" href="testecho_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, and <a class="el" href="group__SpeexEchoState.html#ga8d19605763a4d61d95ad949af358e8b1">speex_echo_ctl()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga6fbfb3d5762ea66783355df611097215"></a><!-- doxytag: member="speex_echo.h::SpeexEchoState" ref="ga6fbfb3d5762ea66783355df611097215" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structSpeexEchoState__.html">SpeexEchoState_</a> <a class="el" href="classSpeexEchoState.html">SpeexEchoState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal echo canceller state. Should never be accessed directly. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0256b6aa4f8b634ee1890547893aa2b9"></a><!-- doxytag: member="speex_echo.h::speex_echo_cancel" ref="ga0256b6aa4f8b634ee1890547893aa2b9" args="(SpeexEchoState *st, const spx_int16_t *rec, const spx_int16_t *play, spx_int16_t *out, spx_int32_t *Yout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> <a class="el" href="group__SpeexEchoState.html#ga0256b6aa4f8b634ee1890547893aa2b9">speex_echo_cancel</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>far_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="speex__config__types_8h.html#ad2c1f7ecbff327ef67ea4b1f67ccaf09">spx_int32_t</a> *&#160;</td>
          <td class="paramname"><em>Yout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs echo cancellation a frame (deprecated)</p>
<p>Performs echo cancellation on a frame (deprecated, last arg now ignored) </p>

<p>References <a class="el" href="group__SpeexEchoState.html#ga38c07eab3e182081c72a4944092e069f">speex_echo_cancellation()</a>.</p>

</div>
</div>
<a class="anchor" id="ga38c07eab3e182081c72a4944092e069f"></a><!-- doxytag: member="speex_echo.h::speex_echo_cancellation" ref="ga38c07eab3e182081c72a4944092e069f" args="(SpeexEchoState *st, const spx_int16_t *rec, const spx_int16_t *play, spx_int16_t *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> <a class="el" href="group__SpeexEchoState.html#ga38c07eab3e182081c72a4944092e069f">speex_echo_cancellation</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>far_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs echo cancellation a frame, based on the audio sent to the speaker (no delay is added to playback in this form)</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>Echo canceller state </td></tr>
    <tr><td class="paramname">rec</td><td>Signal from the microphone (near end + far end echo) </td></tr>
    <tr><td class="paramname">play</td><td>Signal played to the speaker (received from far end) </td></tr>
    <tr><td class="paramname">out</td><td>Returns near-end signal with echo removed</td></tr>
  </table>
  </dd>
</dl>
<p>Performs echo cancellation on a frame </p>

<p>References <a class="el" href="arch_8h.html#a42506a0d6465a6a8be2b1e00bb8f2755">ABS32</a>, <a class="el" href="arch_8h.html#a331894711c95732356e8b51c68d4d440">ADD32</a>, <a class="el" href="arch_8h.html#ac32eb42f66a75c1c2c510fa9dbaa375c">DIV32_16</a>, <a class="el" href="arch_8h.html#a5adea5f484325b71c8a1cf2f557c1f2b">EXTEND32</a>, <a class="el" href="arch_8h.html#a64696e84a91640d6873867e613c45156">EXTRACT16</a>, <a class="el" href="mdf_8c.html#adb098fdfb2736b59a9cbc2ae78aaa4f7">filter_dc_notch16()</a>, <a class="el" href="pseudofloat_8h.html#ad85f960de919ab744f9a1c17ba7b80f3">FLOAT_ADD</a>, <a class="el" href="pseudofloat_8h.html#ab41e80de39661e16c9a4156b68e555f6">FLOAT_DIV32</a>, <a class="el" href="pseudofloat_8h.html#a6c06d474d2b30f6c9e0b857396c5f6ea">FLOAT_DIV32_FLOAT</a>, <a class="el" href="pseudofloat_8h.html#ab1bd8a810652b8c3c769deadf1285183">FLOAT_DIVU</a>, <a class="el" href="pseudofloat_8h.html#a9abe7752d63efc6e34c1cc6ed56b6e41">FLOAT_EXTRACT16</a>, <a class="el" href="pseudofloat_8h.html#ac5128c94ba2661bdd6f3bf4cb14f5328">FLOAT_EXTRACT32</a>, <a class="el" href="pseudofloat_8h.html#a70164a36a47d2d34628762df0a0a42e9">FLOAT_GT</a>, <a class="el" href="pseudofloat_8h.html#ac9666532dbabb754828fead78eb46a6e">FLOAT_LT</a>, <a class="el" href="pseudofloat_8h.html#a3fed3280b2a89032973392e5000891d3">FLOAT_MUL32U</a>, <a class="el" href="pseudofloat_8h.html#a4ad219f79450c72e1981e44f09d390af">FLOAT_MULT</a>, <a class="el" href="pseudofloat_8h.html#a5c087c1b480aa87e18602d91a726a175">FLOAT_ONE</a>, <a class="el" href="pseudofloat_8h.html#a9329dfdce1c77493f6a7cf75a5bf7edf">FLOAT_SHL</a>, <a class="el" href="pseudofloat_8h.html#a4b5f9b2e0f07a18df917e20b263d227e">FLOAT_SQRT</a>, <a class="el" href="pseudofloat_8h.html#a5abd57f4576265f7efcd3955d0fb8194">FLOAT_SUB</a>, <a class="el" href="pseudofloat_8h.html#a488bad3173f72f7e142d3941111f8378">FLOAT_ZERO</a>, <a class="el" href="vm__powerpc__asm_8c.html#a9422668633d50bd9da877aeb4bb45942">M</a>, <a class="el" href="arch_8h.html#a23677ee1b137ed99e0653f928bfd3995">MAC16_32_Q15</a>, <a class="el" href="arch_8h.html#ac1ba014a74ed316d11b1adb00ee07a11">MAX32</a>, <a class="el" href="mdf_8c.html#a0397d050b240bd01d9ac25b9c4d528a4">mdf_adjust_prop()</a>, <a class="el" href="mdf_8c.html#a4931d624a40364d8af52b63be5199cf0">mdf_inner_prod()</a>, <a class="el" href="mdf_8c.html#a062b7217327073e43d7e236d2a4f809f">MIN_LEAK</a>, <a class="el" href="arch_8h.html#a53904429ea46182d094504978a2771bc">MULT16_16</a>, <a class="el" href="arch_8h.html#afeb9b528bd83183bf99dbe8513202cee">MULT16_16_P15</a>, <a class="el" href="arch_8h.html#aef7e5333cb053a993c157a9b0440fcbc">MULT16_16_Q15</a>, <a class="el" href="arch_8h.html#aff95b426e771540c73a3ad1e4dd2b429">MULT16_32_Q15</a>, <a class="el" href="echo__diagnostic_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a>, <a class="el" href="arch_8h.html#addfb22b1d5f37af2fafb4b2e6e1b2b45">NEG32</a>, <a class="el" href="mdf_8c.html#ac697330549f9bbb2544a332fb412c556">power_spectrum()</a>, <a class="el" href="pseudofloat_8h.html#a299d63ebe043d6913621900505a6b5c4">PSEUDOFLOAT</a>, <a class="el" href="arch_8h.html#a57fdc3a2ab2739556453ccef0b497504">PSHR32</a>, <a class="el" href="arch_8h.html#a13b0b04631d6d5b2623e3f5e6246af4b">QCONST16</a>, <a class="el" href="arch_8h.html#a0ad121534091908a9ed329053fb1bbe9">SHL16</a>, <a class="el" href="arch_8h.html#ae4f9986177242e8bb398195a71ad510e">SHL32</a>, <a class="el" href="arch_8h.html#a2859cb58d15e7d8f2337b4c22c539756">SHR32</a>, <a class="el" href="mdf_8c.html#a2f18327aee65b0c865656c5514fbd95d">spectral_mul_accum()</a>, <a class="el" href="mdf_8c.html#ab952cfd9abfdab39dda5eaa0d3f2aa34">spectral_mul_accum16</a>, <a class="el" href="group__SpeexEchoState.html#ga4c9996870300b843b900d73dd84f9b7a">speex_echo_state_reset()</a>, <a class="el" href="os__support_8h.html#a00c6bde230b824420858a51d56eb672c">speex_warning()</a>, <a class="el" href="fftwrap_8c.html#a9a6e49ab769ec5d935c8d0f6c03d580c">spx_fft()</a>, <a class="el" href="pseudofloat_8h.html#a7c5f700554b2219e3753655560808a1c">spx_float_t</a>, <a class="el" href="fftwrap_8c.html#af6180b7b8cf40fc81225542aa7d21a52">spx_ifft()</a>, <a class="el" href="arch_8h.html#a2a0ed1b68e90c114a9f3e099ef155a5b">SUB16</a>, <a class="el" href="arch_8h.html#ad0c42080a68ca25ff20c4775a161e569">SUB32</a>, <a class="el" href="mdf_8c.html#afb5bcfee6ef2d241fb689d4b6c3d7db0">TWO_PATH</a>, <a class="el" href="mdf_8c.html#a26ab891348f1c88385528826d2168309">VAR1_SMOOTH</a>, <a class="el" href="mdf_8c.html#a66e42a9e7eb2c39872b62478e651df9c">VAR1_UPDATE</a>, <a class="el" href="mdf_8c.html#aec2802247794d65962829fd6d94f1068">VAR2_SMOOTH</a>, <a class="el" href="mdf_8c.html#ad53fd0bd8fde6860cb94d502ba579565">VAR2_UPDATE</a>, <a class="el" href="mdf_8c.html#a30329107647295533e74cc310217f385">VAR_BACKTRACK</a>, <a class="el" href="mdf_8c.html#a9677106bd940bb1da6ee9a673df157a3">WEIGHT_SHIFT</a>, and <a class="el" href="mdf_8c.html#a667e710612e203fc31d172b338e0d13d">weighted_spectral_mul_conj()</a>.</p>

<p>Referenced by <a class="el" href="testecho_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, <a class="el" href="group__SpeexEchoState.html#ga0256b6aa4f8b634ee1890547893aa2b9">speex_echo_cancel()</a>, and <a class="el" href="group__SpeexEchoState.html#gafb82082fe4aa650e9bdda3d266995017">speex_echo_capture()</a>.</p>

</div>
</div>
<a class="anchor" id="gafb82082fe4aa650e9bdda3d266995017"></a><!-- doxytag: member="speex_echo.h::speex_echo_capture" ref="gafb82082fe4aa650e9bdda3d266995017" args="(SpeexEchoState *st, const spx_int16_t *rec, spx_int16_t *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> <a class="el" href="group__SpeexEchoState.html#gafb82082fe4aa650e9bdda3d266995017">speex_echo_capture</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform echo cancellation using internal playback buffer, which is delayed by two frames to account for the delay introduced by most soundcards (but it could be off!) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>Echo canceller state </td></tr>
    <tr><td class="paramname">rec</td><td>Signal from the microphone (near end + far end echo) </td></tr>
    <tr><td class="paramname">out</td><td>Returns near-end signal with echo removed </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__SpeexEchoState.html#ga38c07eab3e182081c72a4944092e069f">speex_echo_cancellation()</a>, and <a class="el" href="os__support_8h.html#a00c6bde230b824420858a51d56eb672c">speex_warning()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8d19605763a4d61d95ad949af358e8b1"></a><!-- doxytag: member="speex_echo.h::speex_echo_ctl" ref="ga8d19605763a4d61d95ad949af358e8b1" args="(SpeexEchoState *st, int request, void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a> <a class="el" href="group__SpeexEchoState.html#ga8d19605763a4d61d95ad949af358e8b1">speex_echo_ctl</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used like the ioctl function to control the echo canceller parameters</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>Echo canceller state </td></tr>
    <tr><td class="paramname">request</td><td>ioctl-type request (one of the SPEEX_ECHO_* macros) </td></tr>
    <tr><td class="paramname">ptr</td><td>Data exchanged to-from function </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if no error, -1 if request in unknown </dd></dl>

<p>References <a class="el" href="arch_8h.html#ac32eb42f66a75c1c2c510fa9dbaa375c">DIV32_16</a>, <a class="el" href="arch_8h.html#a5adea5f484325b71c8a1cf2f557c1f2b">EXTEND32</a>, <a class="el" href="arch_8h.html#a13b0b04631d6d5b2623e3f5e6246af4b">QCONST16</a>, <a class="el" href="arch_8h.html#ae4f9986177242e8bb398195a71ad510e">SHL32</a>, <a class="el" href="group__SpeexEchoState.html#gaec8c28929384351e741edadd059b6689">SPEEX_ECHO_GET_FRAME_SIZE</a>, <a class="el" href="group__SpeexEchoState.html#gacc8c165323650efcf0c78a6fdfbce28a">SPEEX_ECHO_GET_SAMPLING_RATE</a>, <a class="el" href="group__SpeexEchoState.html#gaaf00e4a6361aff500e5cb44911b9e47d">SPEEX_ECHO_SET_SAMPLING_RATE</a>, and <a class="el" href="os__support_8h.html#a1e090529b2b5f2ce13b088aa0c6e47aa">speex_warning_int()</a>.</p>

<p>Referenced by <a class="el" href="testecho_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gafb67b27eb0352a062cd368f7225b82c1"></a><!-- doxytag: member="speex_echo.h::speex_echo_playback" ref="gafb67b27eb0352a062cd368f7225b82c1" args="(SpeexEchoState *st, const spx_int16_t *play)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> <a class="el" href="group__SpeexEchoState.html#gafb67b27eb0352a062cd368f7225b82c1">speex_echo_playback</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="speex__config__types_8h.html#ad6ad7b7e406f8bf1396b134490644035">spx_int16_t</a> *&#160;</td>
          <td class="paramname"><em>play</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Let the echo canceller know that a frame was just queued to the soundcard </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>Echo canceller state </td></tr>
    <tr><td class="paramname">play</td><td>Signal played to the speaker (received from far end) </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="echo__diagnostic_8m.html#a00df975b6f7b35733bf97093f91f812a">if()</a>, <a class="el" href="mdf_8c.html#a0a5fc8498f6663b1381f9cf7195b13cf">PLAYBACK_DELAY</a>, and <a class="el" href="os__support_8h.html#a00c6bde230b824420858a51d56eb672c">speex_warning()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c8f75da769150e4eeb7bcd4410bb666"></a><!-- doxytag: member="speex_echo.h::speex_echo_state_destroy" ref="ga9c8f75da769150e4eeb7bcd4410bb666" args="(SpeexEchoState *st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> <a class="el" href="group__SpeexEchoState.html#ga9c8f75da769150e4eeb7bcd4410bb666">speex_echo_state_destroy</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroys an echo canceller state </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>Echo canceller state</td></tr>
  </table>
  </dd>
</dl>
<p>Destroys an echo canceller state </p>

<p>References <a class="el" href="echo__diagnostic_8m.html#aae768f10e6d33769141a624d8ba78016">fclose()</a>, <a class="el" href="jitter_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="os__support_8h.html#a70bc3f409f640f8ec006afcc8b3fd249">speex_free()</a>, and <a class="el" href="fftwrap_8c.html#af1c49e22d105be91261c551609ae1096">spx_fft_destroy()</a>.</p>

<p>Referenced by <a class="el" href="testecho_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaee7e1b0ace7c549b130dc10107b7152"></a><!-- doxytag: member="speex_echo.h::speex_echo_state_init" ref="gaaee7e1b0ace7c549b130dc10107b7152" args="(int frame_size, int filter_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a>* <a class="el" href="group__SpeexEchoState.html#gaaee7e1b0ace7c549b130dc10107b7152">speex_echo_state_init</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>&#160;</td>
          <td class="paramname"><em>frame_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#a787fa3cf048117ba7123753c1e74fcd6">int</a>&#160;</td>
          <td class="paramname"><em>filter_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new echo canceller state </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frame_size</td><td>Number of samples to process at one time (should correspond to 10-20 ms) </td></tr>
    <tr><td class="paramname">filter_length</td><td>Number of samples of echo to cancel (should generally correspond to 100-500 ms) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Newly-created echo canceller state</dd></dl>
<p>Creates a new echo canceller state </p>

<p>References <a class="el" href="arch_8h.html#a331894711c95732356e8b51c68d4d440">ADD32</a>, <a class="el" href="arch_8h.html#a3b23497328e2818e4ff96e32bd0b00c6">DIV32</a>, <a class="el" href="arch_8h.html#ac32eb42f66a75c1c2c510fa9dbaa375c">DIV32_16</a>, <a class="el" href="arch_8h.html#a5adea5f484325b71c8a1cf2f557c1f2b">EXTEND32</a>, <a class="el" href="pseudofloat_8h.html#a5c087c1b480aa87e18602d91a726a175">FLOAT_ONE</a>, <a class="el" href="vm__powerpc__asm_8c.html#a9422668633d50bd9da877aeb4bb45942">M</a>, <a class="el" href="quant__lsp_8c.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>, <a class="el" href="arch_8h.html#a53904429ea46182d094504978a2771bc">MULT16_16</a>, <a class="el" href="arch_8h.html#aef7e5333cb053a993c157a9b0440fcbc">MULT16_16_Q15</a>, <a class="el" href="echo__diagnostic_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a>, <a class="el" href="arch_8h.html#a051e97a9f43e035c9e825846db9e6e47">NEG16</a>, <a class="el" href="arch_8h.html#a13b0b04631d6d5b2623e3f5e6246af4b">QCONST16</a>, <a class="el" href="arch_8h.html#a0ad121534091908a9ed329053fb1bbe9">SHL16</a>, <a class="el" href="arch_8h.html#ae4f9986177242e8bb398195a71ad510e">SHL32</a>, <a class="el" href="arch_8h.html#a2859cb58d15e7d8f2337b4c22c539756">SHR32</a>, <a class="el" href="os__support_8h.html#ac9f69d3c6294719ee8bd025bb252b3bd">speex_alloc()</a>, <a class="el" href="os__support_8h.html#a5b4f9cbd37ac2faf42153cc705ce5480">speex_fatal</a>, <a class="el" href="math__approx_8h.html#a8a5c5ce6bebe7c20538d9f573f6d09f7">spx_cos()</a>, <a class="el" href="math__approx_8h.html#a34a44d7d35bdfe349f2939f5e9f98d4b">spx_exp</a>, <a class="el" href="fftwrap_8c.html#a5810a083692e39e2f107b742fd7ee1d7">spx_fft_init()</a>, and <a class="el" href="pseudofloat_8h.html#a7c5f700554b2219e3753655560808a1c">spx_float_t</a>.</p>

<p>Referenced by <a class="el" href="testecho_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4c9996870300b843b900d73dd84f9b7a"></a><!-- doxytag: member="speex_echo.h::speex_echo_state_reset" ref="ga4c9996870300b843b900d73dd84f9b7a" args="(SpeexEchoState *st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdl__glimp_8c.html#a58d01f44c8d8b40e004e7769af34eb1b">void</a> <a class="el" href="group__SpeexEchoState.html#ga4c9996870300b843b900d73dd84f9b7a">speex_echo_state_reset</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSpeexEchoState.html">SpeexEchoState</a> *&#160;</td>
          <td class="paramname"><em>st</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the echo canceller to its original state </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>Echo canceller state</td></tr>
  </table>
  </dd>
</dl>
<p>Resets echo canceller state </p>

<p>References <a class="el" href="pseudofloat_8h.html#a5c087c1b480aa87e18602d91a726a175">FLOAT_ONE</a>, <a class="el" href="pseudofloat_8h.html#a488bad3173f72f7e142d3941111f8378">FLOAT_ZERO</a>, <a class="el" href="vm__powerpc__asm_8c.html#a9422668633d50bd9da877aeb4bb45942">M</a>, <a class="el" href="echo__diagnostic_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a>, <a class="el" href="mdf_8c.html#a0a5fc8498f6663b1381f9cf7195b13cf">PLAYBACK_DELAY</a>, and <a class="el" href="mdf_8c.html#afb5bcfee6ef2d241fb689d4b6c3d7db0">TWO_PATH</a>.</p>

<p>Referenced by <a class="el" href="group__SpeexEchoState.html#ga38c07eab3e182081c72a4944092e069f">speex_echo_cancellation()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Tue Apr 3 2012 08:02:43 for ioquake3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
